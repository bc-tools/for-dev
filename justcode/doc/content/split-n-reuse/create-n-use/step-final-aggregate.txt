this::
    date = 2022-09-11


abrev::
    currentstep = ¨exatempl/step-final
    examono     = ¨exatempl/monorepo


=======================================
Un squelette composé de sous-squelettes
=======================================

L'agrégation de plusieurs squelettes pour en former un nouveau est maintenant très simple à comprendre. Imaginons que la structure suivante de type dépôt "unique" soit souvent utilisée.

dirtree::
    ---
    path = ¨exadir/mathobj-no-project.txt
    ---


Il est alors utile de créer, puis d'utiliser un squelette que nous nommerons path::``monorepo`` à l'aide de squelettes existants.
Voici les étapes à suivre.

    1) On crée le dossier suivant supposé stocké à l'emplacement path::``~/mes_squelettes/monorepo``.

    dirtree::
        ---
        path = ¨examono/dirtree.txt
        ---

    1) L'importation de squelettes pour notre nouveau squelette se fait très simplement dans le fichier path::``specs.peuf`` comme suit (on pourrait utiliser des réglages par défaut de certains ¨params en utilisant si besoin le bloc path::``global::...``).

    peuf::
        ---
        path = ¨examono/specs.peuf
        ---

    1) On crée le dossier minimal suivant avant de lancer l'initialisation.

    dirtree::
        ---
        path = ¨currentstep/dirtree.txt
        ---

    Dans ce dossier, l'unique fichier path::``params.peuf`` possède le contenu ci-après indiquant d'utiliser un squelette sur notre dossier, et non sur un sous-dossier, via le sous-bloc peuf::``main::...``.
    En plus des ¨params attendus, des règles ¨gitignore sont aussi indiquées
    ((
        Des règles ¨gitignore ne sont applicables que sur tout un projet, et non sur des sous-dossiers.
        Ceci explique l'usage du bloc peuf::``main::...`` pour l'ajout de telles règles.
    )),
    on en reparle juste après.

    peuf::
        ---
        path = ¨currentstep/params.peuf
        ---

    Les règles ¨gitignore disponibles directement sont celles proposées par cf::``https://www.gitignore.io`` : ici ce sont les règles ``python`` et ``osx`` qui sont employées (les noms sont tous en minuscules).
    De plus, il est possible d'ajouter des règles "maison" en indiquant un fichier, ou plus : ici, on indique le fichier path::``~/mes_gitignores/reglesmaison.txt``.
    Au final, toutes les règles sont mises dans un unique fichier path::``.gitignore`` en respectant l'ordre de déclaration : ici, les règles ¨python seront suivies de celles propres à ¨macos, puis de celles "maison".

    1) Il ne reste plus qu'à lancer la génération comme cela a été expliqué à la fin de cf::``step-1-single[CHANGES].txt``.


note::
    Rappelons la possibilité de définir des ¨params globalement pour éviter certaines redondances : voir la section cf::``?/goingfurther/global.txt``.
