this::
    date = 2022-09-28


abrev::
    currentstep = ¨exatempl/steps/1
    exachges    = ¨exatempl/changes


===================================================
Un ¨1er squelette avec une ¨lic - Le cas des ¨chgts
===================================================

Commençons par voir comment définir un squelette minimaliste, et paramétrable, pour le dossier des ¨chgts des projets ¨cvnum et ¨mathobj
((
    En réalité, ces projets utilisent une version compatible avec le projet ¨tnschges via un squelette proposé par défaut par ¨justcode. Nous reparlerons de ceci plus tard...
)).

dirtree::
    ---
    path = ¨exachges/dirtree.txt
    ---


Expliquons le contenu du squelette.

    1) Le fichier path::``x-todo-x.txt`` possède le contenu suivant où jinja::``{{project_name}}`` et jinja::``{{author_name}}`` sont des commandes ¨jinja qui seront remplacées par le nom du projet à initier, et celui de l'auteur du projet.

    jinja::
        ---
        path = ¨exachges/xtodox.txt
        ---

    Le ¨param jinja::``project_name`` est un peu particulier car il est automatiquement associé au nom du dossier à initialiser.

    1) L'absence du fichier path::``LICENSE.txt`` vient de ce que l'ajout d'une licence est indiqué dans le fichier path::``specs.peuf`` du dossier path::``__jscmeta__``
    ((
        Le préfixe "jsc" est pour "Just Start (To) Code", soit ¨justcode.
    )),
    un dossier **optionnel** utilisé ici pour indiquer des métas ¨infos à ¨justcode via le fichier path::``specs.peuf``, ce dernier admettant le contenu suivant très court que nous allons expliqué juste après.

    peuf::
        ---
        path = ¨exachges/specs.peuf
        ---

    On constante la ¨def de deux ¨params qui vont être utilisés par le squelette. Rappelons que le jinja::``project_name`` est associé au nom du dossier à initialiser.

        * peuf::``author_name: str = ?`` utilise une syntaxe similaire à celle de ¨python pour indiquer que jinja::``author_name`` est une chaîne de caratères (¨justcode dispose de ses propres types de ¨params qui n'ont rien à voir, ou presque, avec ceux de ¨python).
        Quant au point d'interrogation, il indique juste que ce ¨param devra être renseigné par l'utilisateur du squelette. Tout autre chaîne sera considérée comme étant une valeur par défaut, rendant ainsi un ¨param optionnel.

        * La declaration peuf::``license: lic = ?`` est similiare à la précédente si ce n'est qu'elle utilise le type peuf::``lic`` propre à ¨justcode pour la gestion des licences.


Il reste à voir comment initier un projet à partir de notre squelette. Nous allons supposer que le chemin absolu du dossier définissant le squelette est path::``~/mes_squelettes/changes`` où path::``~`` est un raccourci pour le chemin du dossier de l'utilisateur principal. Pour initier le projet ¨cvnum, il faut suivre les étapes suivantes.

    1) On crée un dossier path::``cvnum`` avec le contenu minimaliste suivant.

    dirtree::
        ---
        path = ¨currentstep/dirtree.txt
        ---

    Le nom du projet, associé au ¨param jinja::``project_name``, est automatiquement celui du dossier, soit ici ``cvnum``.

    Quant au fichier path::``params.peuf``, il permet d'indiquer un ou plusieurs squelettes, ainsi que les ¨params attendus par chacun des squelettes employés.
    Dans notre cas, ce fichier admet le contenu suivant où l'on donne juste un squelette pour initier un sous-dossier de chemin path::``changes`` : voir peuf::``changes = ...`` dans le bloc peuf::``import::...``.

    peuf::
        ---
        path = ¨currentstep/params.peuf
        ---

    Noter que dans le bloc peuf::``changes::...`` est indiqué la licence "licence::``by nc sa 4.0``", une licence gérée par défaut par ¨justcode : voir cf::``?/api/licenses.txt``.

    1) Pour finir, on lance ¨justcode en ligne de commandes avec pour unique argument le chemin de notre dossier path::``cvnum``. Voilà, c'est tout pour l'utilisation !


info::
    Se reporter à cf::``?/cli.txt`` pour le mode d'emploi détaillé de ¨justcode en ligne de commandes.


Voici quelques précisions sur les chemins des dossiers initialisables via un squelette.

    1) Les noms des dossiers où initier un squelette ne peuvent utiliser que des lettres latines non accentuéees, des chiffres, le point ``.``, le ¨_ ``_``, et le signe ``-``.
    Ne portez pas plainte, ceci ne changera jamais.

    1) Il est interdit d'utiliser les noms des blocs spéciaux du mini-langage des fichiers path::``params.peuf``, mais cette limitation est facilement contournable : par exemple, pour initier un squelette dans un dossier path::``import``, il suffit d'indiquer et utiliser le chemin peuf::``./import``.


tip::
    Pour utiliser un squelette pour tout un projet, et non juste un sous-dossier, il suffit d'utiliser le bloc spécial peuf::``main::...``. Nous verrons ceci un peu plus tard.
